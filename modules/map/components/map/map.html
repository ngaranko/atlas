<dp-loading-indicator is-loading="mapState.isLoading" use-delay="true" show-inline="false"></dp-loading-indicator>

<div class="c-map"
     ng-class="{ 'c-map--drawing-mode-none': drawingMode === 'none',
                 'c-map--drawing-mode-draw': drawingMode === 'draw',
                 'c-map--drawing-mode-edit': drawingMode === 'edit'}">
    <div class="s-leaflet-draw c-map__leaflet js-leaflet-map"></div>

    <div class="c-map__overlay-buttons">
        <dp-toggle-layer-selection
            overlays="mapState.overlays"
            show-layer-selection="showLayerSelection">
        </dp-toggle-layer-selection>

        <dp-toggle-active-overlays
            overlays="mapState.overlays"
            show-active-overlays="mapState.showActiveOverlays">
        </dp-toggle-active-overlays>
    </div>

    <dp-active-overlays
        overlays="mapState.overlays"
        zoom="mapState.zoom"
        show-active-overlays="mapState.showActiveOverlays">
    </dp-active-overlays>

    <dp-toggle-fullscreen is-fullscreen="mapState.isFullscreen"></dp-toggle-fullscreen>

    <dp-draw-tool ng-if="leafletMap" state="mapState" polygon="drawGeometry" map="leafletMap"></dp-draw-tool>
</div>

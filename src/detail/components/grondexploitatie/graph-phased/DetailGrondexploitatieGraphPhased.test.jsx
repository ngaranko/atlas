import React from 'react'
import { shallow } from 'enzyme'

import DetailGrondexploitatieGraphPhased from './DetailGrondexploitatieGraphPhased'
import { getBatenCategoryColor } from '../../../services/grondexploitatie/categories'

jest.mock('../../../services/grondexploitatie/categories')

describe('DetailGrondexploitatieGraphPhased', () => {
  const colors = {
    socialeHuur: '#111',
    kantoorruimte: '#999',
    bedrijfsruimte: '#FA0',
  }
  getBatenCategoryColor.mockImplementation(key => colors[key])
  it('should render everything', () => {
    const data = [
      {
        name: '2018',
        categories: {
          kostenCategories: [
            {
              id: 'bodemsanering',
              name: 'Bodemsanering',
              begrootValue: 1,
              begrootLabel: '1',
            },
            {
              id: 'bouwrijpMaken',
              name: 'Bouwrijp maken',
              begrootValue: 0,
              begrootLabel: '0',
            },
            {
              id: 'civieleConstructies',
              name: 'Civiele constructies',
              begrootValue: 1,
              begrootLabel: '1',
            },
          ],
          batenCategories: [
            {
              id: 'socialeHuur',
              name: 'Sociale Huur',
              begrootValue: 1,
              begrootLabel: '1',
            },
            {
              id: 'kantoorruimte',
              name: 'Kantoorruimte',
              begrootValue: 0,
              begrootLabel: '0',
            },
            {
              id: 'bedrijfsruimte',
              name: 'Bedrijfsruimte',
              begrootValue: 1,
              begrootLabel: '1',
            },
          ],
        },
      },
      {
        name: '2019 - 2022',
        categories: {
          kostenCategories: false,
          batenCategories: false,
        },
      },
      {
        name: '2022 - 2026',
        categories: {
          batenCategories: [
            {
              id: 'socialeHuur',
              name: 'Sociale Huur',
              begrootValue: 2,
              begrootLabel: '2',
            },
            {
              id: 'kantoorruimte',
              name: 'Kantoorruimte',
              begrootValue: 0,
              begrootLabel: '0',
            },
            {
              id: 'bedrijfsruimte',
              name: 'Bedrijfsruimte',
              begrootValue: 0,
              begrootLabel: '0',
            },
          ],
          kostenCategories: false,
        },
      },
    ]
    const wrapper = shallow(<DetailGrondexploitatieGraphPhased data={data} />).map(item =>
      item.shallow(),
    )
    expect(wrapper).toMatchSnapshot()
  })
})
